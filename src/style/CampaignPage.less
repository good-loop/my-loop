// NOTE: this file was created only recently (22/04/19) so don't assume that all less rules pertaining to the campaign page will be here

// Primary navbar color will be set by advert
// Then looks broken to use a darkened gl-red to indicate focus/hover
@navbar-accent-color: unset;

@import '../js/base/style/fonts.less';
@import '../js/base/style/colours.less';

.CampaignPage {

	background-color: #fff!important;

	.hero {
		min-height: 40vh;
		.hero-logo {
			max-height: 150px;
			max-width: 100%; // Contains image in mobile
		}
		.sub-header {
			padding-top: 3rem!important;
		}
	}

	// Hack to give breathing room to splash without changing base Component
	.container.p-2 {
		padding: 3rem 2rem!important;
	}

	// Note: My-Loop has nav buttons, but the navbar is transparent.
	// Whereas CampaignPage has a solid brand-coloured navbar
	.navbar {
		background-color: @gl-red;
	}
	
	#logo-container-curve {
		display: none;
	}

	.btn-gl {
		color: #fff;
		background-color: @gl-red;
	}

	.intro-text {
		color: #fff;
		max-width: 560px;
		margin: 0 auto;
		padding: 2em 0;
	}

	// Subtle box-shadow to separate important sections on the page.
	// TODO: More elegant solution.
	.section {
		box-shadow: 0px 3px 2px -2px rgba(0,0,0,0.1);
	}

////////// Charity Cards /////////
	.charity-card {
		.bg {
			background-position: center; // Keep original focus of the photo if the card is short
		}
		// Push inner card to the right
		.container {
			display: flex;
			justify-content: flex-end;
			padding: 5rem 0!important; // Give some top/bottom breathing room to card
		}
		.charity-description {
			padding-top: 1rem;;
		}
		.quote {
			font-style: italic;
		}
		// Charity card logo aligned and padded inside its div container, for standardisation. 
		.logo {
			width: auto;
			height: 95%;
			max-width: 95%;
		}

		// Good-Loop sub-header font for both title and donation subtitle inside charity cards.
		h3, .charity-donation {
			&:extend(.header-font);
		}


		.img-col {
			width: 50%;
			margin: 0;
			background-position: center;
			background-size: cover;
		}
		.info-col {
			display: flex;
			flex-direction: column;
			align-items: flex-start;
			.inner-info-section {
				align-self: flex-start;
				padding: 2rem;
				text-align: left;
				max-width: 70%;
			}
			.align-right {
				align-self: flex-end;
			}
			@media (max-width: 767px) {
				.inner-info-section {
					max-width: 100%;
					align-self: center;
					text-align: center;
					padding: 2rem 0;
					.logo div {
						margin: 0 auto;
					}
				}
			}
		}
	}

	// Size and position for the inner white card when a background photo is present. 
	// Width gets overwritten in the media queries at the bottom for mobile.
	.white-inner-card{
		display: flex;
		flex-direction: column;
		max-width: 600px;
		align-items: flex-end;
		background-color: rgba(255, 255, 255, .9);
		width: 45%;
		text-align: right;
		border-radius: 5px;
		padding: 1em;
		h3 {
			font-size: 3rem;
		}
		.charity-donation {
			font-size: 2rem;
		}
	}

	.blockquote {
		font-size: .8rem;
	}

	.pub-container {
		flex-direction: column; // Stacks subtitle on top of logo grid
		max-width: 1200px; // container max-width
		margin: 0 auto;
		padding: 7em 0;
		img {
			max-height: 65px;
		}
		// Subtitle to the left
		.sub-header-font {
			text-align: left;
		}

	}

	// Hack: Chart title does not align properly, so instead we remove it and use
	// this header superposed over the chart.
	.breakdown-title {
		margin-bottom: -2em;
	}

///////// Advert Cards //////////
	.advert-section-header {
		&:extend(.header-font);
		color: #fff;
	}
	.total-views-column {
		display: flex;
		justify-content: center;
		padding: 4em 0; // Breathing room between top and bottom elements
		&:extend(.sub-header-font);
		.sub-header-font { font-size: 1.25rem; }
		img {
			max-width: 200px;
		}
		// Style for the element at the top of advert-card-container
		.align-middle {
			max-width: 400px;
			text-align: left;
			padding: 1em;
			&:extend(.sub-header-font);
			p {
				margin: 0 auto;
			}
		}
		@media (max-width:767px) {
			align-items: center;
			flex-direction: column;
		}
	}

	// Adds separation line between ad cards
	.ad-card {
		box-shadow: 0px 3px 2px -2px rgba(0,0,0,0.1);
		color: #fff;
		flex-direction: column;
		&:extend(.header-font);
	}


	.advert-card-container {
		background: rgb(119, 15, 0);
		.header-font { 
			font-size: 1.5rem;
			&.value-highlight {
				font-size: 2rem;
				font-weight: 700;
			}
		}
		.value-highlight { color: @gl-orange; }
		.sub-header-font { font-size: 1.25rem; }
	}

	// Separation between ad cards
	.column.row {
		box-shadow: 0px 3px 2px -2px rgba(0,0,0,0.1);
	}

	// On small devices makes thumbnail full width and forces aspect ratio for responsive behaviour.
	@media (max-width: 481px) {
		@ratio: 1.777777778; // 480w / 270h <-- initial size of thumbnail
		.video-thumbnail {
			width: 100%;
			height: 100vw / @ratio;
		}
	}

////////////////////////

	rect {
		fill: rgba(0, 0, 0, 0);
	}

////// Media Queries Mobile ////////
	@media (max-width: 728px) {
		.ACard {
			.container {
				padding: 2em 0!important; 	// Forces charity card images go full bleed on mobile 
				.img {
					max-height: 300px;
				}
			}
		}

		.pub-container {
			.row {
				flex-direction: column;
			}
			img {
				margin-bottom: 2em;
			}
		}

		// This sets the logo on top of the charity card, and aligns everything to the right.
		.charity-card {
			.img-col {
				width: 100%;
				height: 200px;
			}
			.info-col {
				align-items: center;
			}
			.photo {
				display: none; 
			}
			.bg {
				// In mobile the background photo can make things hard to read, so we remove it leaving the bg colour
				background-image: none;
			}
			p {
				padding-top: 1em;
				padding-left: 1em;
				padding-right: 1em;
			}
			.text-block {
				width: 100%;
			}
		}

		/////Ad Cards ////

		// Breathing room for ad cards presentation on mobile
		.total-views-column {
			padding-bottom: 0;
			.align-middle {
				padding-bottom: 4rem;
			}
		}
	}
}

