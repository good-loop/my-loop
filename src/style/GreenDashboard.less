// have a MyGL colours file which collects these??
@green-highlight: #698983;
@blue-highlight: #69a4b9;
@sea-blue: #76a1b7;

@nav-width: 20em; // why isnt the nav either 100% or container??

#green-dashboard {
	width: 100vw;
	height: @fullHeight;
	overflow: hidden;
	display: flex;
	
}

#green-navbar {
	width: @nav-width;
	height: 100%;
	background-color: @greenmedia-darkcyan;
	z-index: 1;
	display: flex;
	flex-direction: column;
	justify-content: flex-start;

	font-family: 'Montserrat';

	> * {
		width: 100%;
	}


	.logo {
		margin: 3em auto;
	}

	.nav-item {
		&.active {
			background: @green-highlight;
		}
		display: flex;
		align-items: center;
		color: white;
		text-transform: uppercase;
		text-decoration: none;
		padding: 0.5em 0 0.5em 3em;
	}

	.green-nav-icon {
		position: relative;
		display: inline-blaock;
		width: 3em;
		height: 3em;
		border-radius: 50%;
		background-color: white;
		margin-right: 1em;
	}


}

.green-subpage {
	flex-grow: 1;
	height: 100%;
}

.green-card {
	display: flex;
	flex-direction: column;
	.gc-body {
		background-color: white;
		box-shadow: 0 0.25em 0.5em rgb(0 0 0 / 40%);
		border-radius: 0.5em;
		flex-grow: 1;
	}
}

.GreenLandingPage {
	font-family: "Montserrat";
	color: white;
	position: relative; // See .landing-behind-footer below - overall page div needs to be a position reference

	.landing-splash, .landing-map {
		height: @fullHeight;
		background-size: cover;
		background-position: center;
		display: flex;
		align-items: center;
		justify-content: center;
	}

	.landing-splash {
		background-image: url("/img/green/dashboard-background.svg");
	}

	.hummingbird {
		position: absolute;
		height: 15vw;
		width: 15vw;
		top: 30vh;
		left: 5vw;
		object-fit: contain;
	}

	.splash-circle {
		display: flex;
		flex-direction: column;
		align-items: center;
		justify-content: center;
		text-align: center;
		height: 80vh;
		width: 80vh;
		background-color: rgba(40, 105, 132, 0.8);
		border-radius: 50%;
		text-transform: uppercase;
		font-size: 2.5vh;
		.branding {
			height: 4em;
			padding: 0.25em;
			border-radius: 2em;
			background-color: white;
			img {
				position: relative;
				height: 3.5em;
			}
		}
		.big-number {
			font-weight: bold;
			font-size: 200%;
		}
		.carbon-neutral-container {
			display: flex;
			align-items: center;
			text-transform: none;
		}
		.carbon-neutral-logo {
			height: 7em;
		}
		.splash-explore {
			background-color: @blue-highlight;
			border: 2px solid white;
		}
	}

	.mission {
		background-color: @greenmedia-seagreen;
		text-align: center;
	}

	// The world map
	.projects-map {
		background-color: @sea-blue;
		img {
			width: 100%;
		}
		.map-markers {
			position: relative; // Needs to be position ref for project marker pins
			margin: -16vw auto; // Collapse the wave transition graphics above and below into the map
		}
		.map-transition-top {
			fill: @greenmedia-seagreen;
		}
		.map-transition-bottom {
			fill: @greenmedia-darkcyan;
		}
	}

	// The project descriptions on the world map
	.project-marker {
		position: absolute;
		width: 20em;
		height: 8em;
		filter: drop-shadow(0 0.2em 0.2em rgba(0, 0, 0, 0.4));
		
		.photo, .desc {
			display: flex;
			align-items: center;
			position: absolute;
			top: 0;
			height: 100%;
		}
		
		.photo {
			left: 0;
			width: 8em;
			object-fit: cover;
			border-radius: 1em 0 0 1em;
		}
		.desc {
			right: 0;
			width: 12em;
			padding: 0.5em;
			padding-left: 1em;
			border-radius: 0 1em 1em 0;
			background-color: white;
			color: black;
			font-weight: 600;
		}
		.pointer {
			position: absolute;
			width: 2em;
			height: 2em;
			display: none; // hide all by default
			//top: 100%;
			//right: 4em;
			fill: white;
			&.pointer-top-left { bottom: 100%; left: 4em; }
			&.pointer-top-right { bottom: 100%; right: 4em; }
			&.pointer-right { top: 3em; left: 100%; }
			&.pointer-bottom-right { top: 100%; right: 4em; }
			&.pointer-bottom-left { top: 100%; left: 4em; }
			&.pointer-left { top: 3em; right: 100%; }
		}
		/* Offsets and pointer display rules for different arrow positions*/
		/* TODO Use variables for size/position so we can reshape later without hand-rewriting all position rules*/
		&.arrow-top-left {
			margin-top: 2em;
			margin-left: -5em;
			.pointer-top-left { display: block; }
		}
		&.arrow-top-right {
			margin-top: 2em;
			margin-left: -15em;
			.pointer-top-right { display: block; }
		}
		&.arrow-right {
			margin-top: -4em;
			margin-left: -22em;
			.pointer-right { display: block; }
		}
		&.arrow-bottom-right {
			margin-top: -10em;
			margin-left: -15em;
			.pointer-bottom-right { display: block; }
		}
		&.arrow-bottom-left {
			margin-top: -10em;
			margin-left: -5em;
			.pointer-bottom-left { display: block; }
		}
		&.arrow-left {
			margin-top: -4em;
			margin-left: 2em;
			.pointer-left { display: block; }
		}
	}

	// The tree-in-a-circle project map marker we use on mobile
	.project-marker-mobile {
		position: absolute;
		background-color: white;
		border-radius: 50%;
		display: none; // Hide unless on mobile sized screen
		height: 2em;
		width: 2em;
		margin-top: -1em;
		margin-left: -2em;
	}

	// Second list of project descriptions for display on mobile
	.project-descriptions-mobile {
		display: none;
	}

	.landing-extra {
		background-color: @greenmedia-darkcyan;
		text-align: center;
		background-image: url("/img/green/more-info-bg.svg");
		background-size: 100%; // 100% width; height maintains aspect
		background-repeat: repeat-y;
	}

	/* Hack - extend the dark sea green of the last div behind the footer curve */
	.landing-behind-footer {
		position: absolute;
		top: 100%;
		height: 24vw; // Footer curve svg aspect is ~1:0.23, this will make sure it covers the white space
		width: 100%;
		background-color: #52727a;
	}

	@media (max-width: 767px) {
		// Mobile splash section
		.landing-splash {
			background-size: auto 40vh; // Hillside picture to the top
			background-position: top;
			background-repeat: no-repeat;
			padding-top: 20vh; // Text further down so it's against the green
			.hummingbird {
				top: 20vh;
			}
		}

		// No background circle
		.splash-circle {
			background-color: transparent;
			border-radius: none;
		}

		// Show the project markers instead of full description bubbles on the map
		.projects-map {
			.project-marker { display: none; }
			.project-marker-mobile { display: block; }
		}
		
		
		// Don't apply map positioning to the project description bubbles on mobile - they flow normally
		.project-descriptions-mobile {
			display: block;
			.project-marker {
				position: relative;
				margin: auto !important;
				top: 0 !important;
				left: 0 !important;
				.pointer {
					display: none !important;
				}
			}
		}
	}
}
