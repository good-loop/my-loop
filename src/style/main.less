@import "../js/base/style/main-base.less";
@import "MyPage.less";
@import "footer.less";
@import "DonationCircleWidget.less";
@import "CampaignPage.less";

// font definition

/* blocky extra-special header - e.g. for a CTA or tagline */
// TODO move off from gl-es servers
@font-face {
	font-family: 'FrankGothItalicBT';
	src: url('https://gl-es-05.good-loop.com/cdn/fonts/franklin_gothic_italic_bt.woff2') format('woff2'),
		url('https://gl-es-04.good-loop.com/cdn/fonts/franklin_gothic_italic_bt.woff') format('woff'),
		url('https://gl-es-03.good-loop.com/cdn/fonts/franklin_gothic_italic_bt.ttf') format('truetype');	
}
.frank-font {
	font-family: 'FrankGothItalicBT', Fallback, sans-serif;
}

// main 

.avoid-navbar {
	margin-top:0px; // no navbar (yet)
}

// this was possibly fixing an IE11 error to do with padding of the whole page
// * {
// 	-webkit-box-sizing: border-box;
// 	        box-sizing: border-box;
// 	padding: 0;
// 	margin: 0;
//}

// hyperlink consistent across apps??
// p > a {
// 	color: #274b6a;
// 	text-decoration: none;
// 	border-bottom: 1px dashed;
// }
// p > a:hover {
// 	border-bottom: 1px dotted;
// }

.grid-tile.bottom {
	grid-row: 1 / 3;
	-ms-grid-row: 1;
	-ms-grid-row-span: 2;
	min-height: 100px;

	.foot {
		display: grid;
		-ms-grid-columns: 1fr 1px 1fr 1px 1fr;
		grid-template-columns: 1fr 1fr 1fr;
		    grid-template-areas: "vertiser campaign goodloop";  
		grid-gap: 1px;

		.social {
			grid-column: 1 / 3;
			-ms-grid-column: 1;
			-ms-grid-column-span: 2;
			color: white;
			padding-top: 15%;     
			padding-bottom: 10%;   
			
			p {
				margin: 0px;
				font-size: 50px;

				span {
					font-size: 18px;
					position: relative;
    				top: -1.1em;
				}
			}
		}
	} 
} 

// using css grid to change the template of the grid to a column based one 
// only applies on phone-sized devices
@media only screen and (max-width: 900px) {

	.grid-tile.bottom .foot {
		-ms-grid-columns: 1fr;
		grid-template-columns: 1fr;
		grid-template-areas: 
		"vertiser" 
		"campaign" 
		"goodloop";  
	}

	// using css grid to display footer vertically on mobile
	.footer {
		-ms-grid-columns: 1fr;
		grid-template-columns: 1fr;
		grid-template-areas: 
		"leftFooter" 
		"mainFooter" 
		"rightFooter";  

		// left footer and right footer no longer need to be fixed to the bottom and to the sides
		// instead they look better moved to the center and reverting the vertical alignment
		.leftFooter {
			display: block;
			text-align: center;
	
			.innerLeftFooter {
				vertical-align: initial;
				display: inherit;
			}
		}
		
		.rightFooter {
			display: block;
			text-align: center;
	
			.innerRightFooter {
				vertical-align: initial;
				display: inherit;
			}
		}
	} // ./footer
} 

// top tile ("Together we've raised ... for charity") should fit the top screen when on mobile
// TODO does this make sense? or is there a better way of doing this?
@media only screen and (max-width: 900px) {
	.campaign-page {
		.grid-tile.top {
			// on smaller screens the top tile should take up more of the screen
			// to avoid making the top tile ("Together we've raised ...") look squished 
			height: 73vh;

			.header-img .darken-overlay .title {
				//the logos need more space, otherwise the will overlap with the top tile text
				top: 22%;
			}
		}

		.grid-tile.middle .inside .carousel {
			// to avoid making the middle tile (carousel) look squished on small screens
			height: 70vh;
		
			.carousel-inner .item {
				.slide-header {
					.slide-title {
						// otherwise on smaller screens the title becomes unreadable
						font-size: 3.18vmin;
					}

					.slide-logo img {
						// otherwise the logo looms weirdly to the right (on small screens it should just be above the title)
						float: unset;
					}
				}

				.slide-desc {
					// on small screens, the description can take more space (and become more readable) 
					//because we're not trying to fit it in the same screen as the top tile
					margin: 35px auto;
					font-size: 2vh;
					width: 70vw; 
				}

				.slide-photo {
					// we don't have space to show the large photo
					display: none;
				}		

			}
		}

		// adapt the cta font to smaller screens (couldn't just make it responsive by default)
		.link.watch-cta {
			font-size: 6vmin; 
		}
	}
}


// hack to target IE10+ and replace css grid with flexbox
@media screen and (-ms-high-contrast:active), (-ms-high-contrast:none) {
	.foot {
		display: flex;
		flex-wrap: wrap;
	}

	.social {
		flex-basis: calc(33.333% - 20px);
	}

	.footer {
		display: flex;
		flex-wrap: wrap;
	}
	
	.footer-col {
		flex-basis: calc(33.333% - 20px);
	}
	
}
