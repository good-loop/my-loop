@import "../js/base/style/main-base.less";
@import "../js/base/style/colours.less";
@import "../js/base/style/flex.less";
@import "../js/base/style/fonts.less";
@import "../js/base/style/breakpoints.less";

@import "fonts.less";
@import "ShareButton.less";
@import "DevLink.less";
@import "buttons.less";
@import "website-colours.less";
@import "landingpage.less";
@import "footer.less";

@import "MyPage.less";
@import "MyDashboard.less";
@import "MyCharitiesPage.less";
@import "MyAdCampaignsPage.less";
@import "GetInvolvedPage.less";
@import "CampaignPage.less";
@import "AccountPage.less";
@import "TabsForGoodSettings.less";
@import "TabsForGood.less";
@import "NewTab.less";
@import "navbar.less";
@import "AllowlistUs.less";
@import "MyLoginWidget.less";
@import "CharityPicker.less";
@import "MyData.less";
@import "MyDataProductPage.less";
@import "OurImpactPage.less";
@import "impacthub.less";
// @import "LandingSection.less";
@import "HomePage.less";
@import "WelcomePage.less";
@import "OurStory.less";
@import "Blog.less";
@import "CharitySection.less";
@import "GreenDashboard.less";
@import "SafariPage.less";
@import "WhiteCircle.less";
@import "NewTabLayouts.less";

@import "GLCards.less";

/*

TODO: CSS Clean-Up -- promote / delete / comment wanted on much of the code below:
Where and why are these used?

*/



// Rules below are not specific to any MyLoop page

.header {
	.header-font();
	font-size: 2.618rem; // ?? TODO no rem sizing
	line-height: initial;
} 

.sub-header {
	.sub-header-font();
	font-size: 1.618rem; // ?? TODO no rem sizing
}

// Make blocks of text more readable
.text-block {
	text-align: left;
	line-height: 1.25rem; // TODO no rem sizing
	// Restrict max characters per line to < 70 or so
	// Helps to improve readibility
	max-width: 35rem; // TODO no!
}

// Useful in headers
.compact-text-block {
	.text-block();
	line-height: initial;
	max-width: 20rem; // TODO no!
}

// ??document
.img-block-basic {
	background-size: cover;
	background-repeat: no-repeat;
	background-position: center center;
}

// background-image will be set in JS
.img-block {
	width: 100%;
	height: 100%;

	.img-block-basic();
}

// Use in conjunction with img-block
.img-hero {
	position: absolute;
	z-index: -1;
	top: 0;
	filter: blur(5px);
	background-attachment: fixed;
}

// Dark BootStrap link colour looks terrible with MyLoop's coloured backgrounds
a {
	color: #000;
	text-decoration: underline;
}
a.btn {
	text-decoration: none;
}

.word-wrap {
	/* c.f. https://stackoverflow.com/posts/40442295/revisions */
	overflow-wrap: break-word;
	// word-break: break-all; < deprecated approach
}

// The "Connect on email/Twitter/Facebook" widget
.social-media-card {
	display: inline-flex;
	flex-direction: column;

	.tagline {
		color: white;
		.contrast-text;
		line-height: 1;
		font-size: 90%;
	}

	.btn {
		font-size: 1rem;
	}

	.btn, .social-connected {
		line-height: 1;
		overflow: hidden; // people can have long names!
		margin-bottom: 0.5rem; // enclosing in p-1 was making them stack up too tall
		width: 100%; // equal width for prettiness, set explicit width on the social-media-card in question
		text-align: left; // icons in a vertical line
	}

	// Override margin:auto rules for flex children
	&>* {
		margin-left: unset !important;
		margin-right: unset !important;
	}
}

// Mimic Bootstrap button styling on the non-button "connected" indicator
.social-connected {
	display: flex;
	align-items: center;
	padding: 0.25rem 0.75rem;
	border-radius: 0.25em;

	.user-pic {
		display: inline-block;
		position: relative;
		overflow: hidden;
		height: 2em;
		width: 2em;

		border-radius: 0.1em;
		> * {
			position: absolute;
			left: 0;
			top: 0;
			height: 100%;
			width: 100%;
		}
	}

	// The "(icon) Connected" status line
	.connected {
		font-size: 66%;
	}
	.connected, .name { // And the username too
		line-height: 1;
	}
}

.logo-base {
	background-repeat: no-repeat;
	background-position: center center;
	background-size: 100%;
}

// Just a copy of the adunit's charity logos
.round-logo {
	.logo-base();
	border: 1px solid grey;
	border-radius: 50%;
	background-color: #fff;
	height: 5rem;
	width: 5rem;
}

// Override whoever put auto margins on flex children (why??)
// Exception for classes with specified margins
.unset-margins>*:not([class*="m-"]) {
	margin: unset;
}

/** Make sure the text is readable when using images as a backdrop. 

NB: to handle the ugly corner case of dynamic colours, we use a flexible grey shadow.
This issue appears on http://testmy.good-loop.com/#campaign/?gl.vert=CeuNVbtW where the Â£16k is dynamically black
*/
.contrast-text {
	// black or gl-red text
	text-shadow: 0.05em 0.05em 0.1em rgba(0.5,0.5,0.5,0.5); // white;
}

// Font sizing:
// No smaller than 14px, no larger than 18px, and scale relative to viewport width between those values
@media (max-width: 466px) {
	html, body {
		font-size: 14px;
	}
}
@media (max-width: 1280px) {
	html, body {
		font-size: 16px;
	}
}
@media (min-width: 1280px) {
	html, body {
		font-size: 18px;
	}
}

b {
	font-weight: bold;
}

.page-card {
	padding: 4rem 0;
}

.curves {
	height: 14em;
	background-position: center;
	@media (min-width: 1100px) {height: 20em;}
	@media (min-width: 1600px) {height: 30em;}
	@media (min-width: 2100px) {height: 35em;}
	@media (min-width: 2700px) {height: 45em;}
}

.curve-banner {
	overflow: hidden;
	background-color: @gl-desat-blue;
	background-size: cover;
	.curves {
		margin-top: 10em;
		margin-bottom: -2em;
	}
}

// Disallow horizontal scrolling
html, body {
	max-width: 100%;
	overflow-x: hidden;
}

// Stop bootstrap add padding-right when modal open
body.modal-open {
	overflow: auto !important;
}
body.modal-open[style] {
	padding-right: 0px !important;
}

.forced-mobile {
	max-width: 412px;
	margin: 0 auto;
}