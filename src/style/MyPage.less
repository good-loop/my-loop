.page.MyPage {
	text-align: center;
}

#logo-container-curve {
	fill: white; // background; -- Weirdly this came out as pastel purple on DW's chrome July 2019
	position: absolute;
	left: 0;
	top: 0;
	width: 40%;
	z-index: -1;
}

.how-it-works {
	overflow: hidden;
	.photo-bg {
		background-image: url("/img/wheat_fields.jpg");
		background-size: cover;
	}
	.how-it-works-banner {
		height: 15em;
		position: relative;
		display: flex;
		flex-direction: row;
		justify-content: space-around;
		align-items: center;
		
		#how-it-works-curve {
			fill: @gl-red;
			width: 100%;
			height: 100%;
			position: absolute;
			left: 0;
			top: 0;
			z-index: 0; // In front of the picture background, behind the text
		}
		/* left=Here's How, right=It Works */
		.left, .right {
			z-index: 1; // In front of the curve
		}
		.left {
			color: black;
			
		}
		.right {
			color: white;
		}
	}

	.steps {
		overflow: hidden;
		position: relative;
		min-height: 30rem;

		.step-1 {
			margin-top: 1rem;
		}
		
		.step-3 {
			// background-color: rgba(255, 255, 255, 0.4);
			background-image: linear-gradient(to bottom, rgba(255, 255, 255, 0.4), rgba(255, 255, 255, 0));
			align-items: flex-start; // put the number circle in the upper corner
			border-bottom-left-radius: 0;
		}
	}
} // ./how-it-works


.logo-ribbon {
	position: relative;
	height: 2rem;
	margin: 0.25rem 0;
	background-color: @gl-red;

	.gl-logo-svg {
		height: 9rem;
		width: 9rem;
		position: absolute;
		top: -3.5rem;
		// Q: Left AND margin-left?
		// A: The "Make an impact" header starts 50% from the left.
		// So we put the logo at 50%, and then bump it a little further right in rem units to avoid the header.
		left: 50%;
		margin-left: 5rem;
		z-index: 1;
	}
}

.make-an-impact {
	background-image: url("/img/dew-grass.jpg");
	position: relative;

	.split-coloured-circle-svg {
		position: relative;
		left: 15%;
		width: 85%;
		height: 23em;
	}

	.impact-girl {
		position: absolute;
		right: 50%;
		bottom: 0;
		height: 90%;
		width: 50%;
		background-image: url("/img/redgirl.png");
		background-repeat: no-repeat;
		background-size: contain;
		background-position: bottom center;
		&.accent {
			// A second copy filtered to white to provide a contrasting drop shadow
			filter: contrast(0) brightness(200%);
			transform: translateX(-0.1em);
		}
	}

	.impact-card-header {
		line-height: 1;
		margin-top: 0.5em;
		font-weight: bold;
		.quiet {
			font-style: oblique;
		}
	}

	.impact-card-text {
		position: absolute;
		top: 1rem;
		right: 1rem;
		width: 50%;
	}

	.social-media-card {
		position: absolute;
		bottom: 0;
		right: 0;
	}
}

.number-circle {
	display: inline-flex;
	flex-shrink: 0; // Don't squish if space is tight
	border: 0.25rem solid;
	border-radius: 50%;
	width: 4rem;
	height: 4rem;
	text-align: center;
	margin: 0;
}

.finger {
	display: flex;
	flex-direction: row;
	align-items: center;
	justify-content: flex-start;

	&.to-left {
		border-radius: 3rem 0 0 3rem; // concentric with number circle, which is 2rem + 1rem margin
		margin: 0 0 1rem 1rem;
		.number-circle {
			margin: 0 1rem 0 0; // just push away text to right
		}
	}
	&.to-right {
		border-radius: 0 3rem 3rem 0; // concentric with number circle, which is 2rem + 1rem margin
		margin: 0 1rem 1rem 0;
		.number-circle {
			margin: 0 1rem; // push away text to right AND align vertically to circles above and below
		}
	}
}

// These only really work as part of a thin column
.impact-card {
	text-align: left;

	.header, .sub-header {
		color: #fff;
	}

	.body-text {
		color: #000;
	}

	.impact-logo {
		height: 3.5em;
		width: auto;
	}

	.impact-image {
		width: 100%;
		max-width: 600px;
	}

	.image-and-text {
		.flex-row();

		margin: 3rem auto 3rem auto;

		> * {
			width: 50%;	
		}
	}

	.reversed-image-and-text {
		.flex-row-reverse();

		margin: 3rem auto 3rem auto;

		> * {
			width: 50%;	
		}
	}
}

.impact-logo {
	width: 100px;
	height: auto;
}

.impact-image-text {
	height: 12em !important;
}

.triangle {
	width: 100%;
	height: 5em;
	border-style: solid;
	border-width: 0 0 50px 95vw;
}

.triangle-gl-red {
	.triangle();
	border-color: transparent transparent @gl-red transparent;
}

.triangle-gl-dark-blue {
	.triangle();
	border-color: transparent transparent @gl-dark-blue transparent;
}

.triangle-gl-blue {
	.triangle();
	border-color: transparent transparent @gl-light-blue transparent;
}

.triangle-gl-dark-grey {
	.triangle();
	border-color: transparent transparent @gl-dark-grey transparent;
}

.triangle-gl-light-grey {
	.triangle();
	border-color: transparent transparent @gl-light-grey transparent;
}

// Turn checkbox into a slider
// Prettier look for consent controls

.slider {
	// Container class .slider makes it possible to control all elements without resorting to "creative" selectors
	input {
		display: none;
		// Move slider right and change background colour if option checked
		&:checked + .slider-inner {
			background-color: @gl-red;
			.round-bit {
				right: 0;
			}
		}
	}

	.slider-inner {
		background-color: @gl-light-grey;
		position: relative;
		display: inline-block;

		width: 6rem;
		height: 2rem;
		border-radius: 5%;

		.round-bit {
			position: absolute;
			border-radius: 50%;
			width: 2rem;
			height: 2rem;
			background-color: #fff;
			right: 4rem;

			transition: right 0.5s;
		}
	}
}

.MyPage {
	width: 100%;

	.splash.img-block {
		position: relative;
		height: 30rem;

		background-image: url("/img/tulips.jpg");
		background-position: 'right';

		.doing-good, .little-flowers {
			position: absolute;
			right: 0;
			width: 18rem;
		}
		.doing-good {
			top: 2rem;
		}
		.little-flowers {
			bottom: 0;
		}

		.social-media-card {
			position: absolute;
			bottom: 0;
			left: 0;
		}
	}
}


.our-mission {
	.flex-row();
	
	padding: 2rem;

	.gl-logo-svg {
		height: 6em;
		margin-right: 2em;
	}

	.text {
		// Stick text to top of div
		// flex-row should be applied to parent element
		margin-top: 0;
	}
}

.ShareAd {
	.unit {
		.click-to-load {
			text-align: center;
			line-height: 3rem;
			color: @gl-red;
			border: 1px solid @gl-red;
			border-radius: 0.25rem;
			margin: 1rem;
			cursor: pointer;
		}
	}
}

// Change impact card layout from:
// *IMAGE* *TEXT*
// to
// *IMAGE*
// *TEXT*
// Former looks wonky on smaller screens 
@media only screen and (max-width: 1110px) {
	.impact-card {
		.image-and-text, .reversed-image-and-text {
			flex-direction: column;
			
			> * {
				width: 100%;
			}
		}
	}
}
